<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="MauiApp2.MainPage"
    Title=""
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:MauiApp2"
    NavigationPage.HasNavigationBar="False"
    xmlns:skia="clr-namespace:SkiaSharp.Extended.UI.Controls;assembly=SkiaSharp.Extended.UI">
    
    <Grid VerticalOptions="FillAndExpand" BackgroundColor="#EAEAEA">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Frame
            x:Name="NoInternetFrame"
            IsVisible="False" 
            HorizontalOptions="Center"
            VerticalOptions="Center"
            BackgroundColor="White"
            BorderColor="Transparent">
            <Frame.Shadow>
                <Shadow Brush="Gray"
                Radius="0.5"/>
            </Frame.Shadow>
            <Label
                Text="You have no internet connection"
                FontFamily="Montserrat"
                HorizontalOptions="Center" 
                VerticalOptions="Center"/>
        </Frame>

        <ScrollView Grid.Row="0">

            <VerticalStackLayout
                Padding="30,0"
                Spacing="25"
                VerticalOptions="FillAndExpand">
                <AbsoluteLayout Margin="0,20">
                    <Button
                        Text="Welcome Page"
                        Clicked="Welcome_Button_Clicked"
                        BackgroundColor="LightPink"/>
                    <ImageButton
                        x:Name="Settings"
                        AbsoluteLayout.LayoutBounds="1,0.5"
                        AbsoluteLayout.LayoutFlags="PositionProportional"
                        CornerRadius="15"
                        HorizontalOptions="End"
                        Pressed="Settings_Pressed"
                        Source="settings.png">
                        <ImageButton.Shadow>
                            <Shadow
                                Brush="#121B3F"
                                Opacity="0.2"
                                Radius="25"
                                Offset="0,20" />

                        </ImageButton.Shadow>

                    </ImageButton>
                    <HorizontalStackLayout AbsoluteLayout.LayoutBounds="0.5,0" AbsoluteLayout.LayoutFlags="PositionProportional">
                        <ImageButton
                            x:Name="Chat_Option"
                            Pressed="Chat_Option_Pressed"
                            Source="chat_option.png" />
                        <ImageButton
                            x:Name="Voice_Option"
                            Pressed="Voice_Option_Pressed"
                            Source="voice_dialog_option.png" />
                        <HorizontalStackLayout.Shadow>
                            <Shadow
                                Brush="#121B3F"
                                Opacity="0.15"
                                Radius="25"
                                Offset="0,20" />
                        </HorizontalStackLayout.Shadow>
                    </HorizontalStackLayout>

                </AbsoluteLayout>


                <BoxView HeightRequest="0" VerticalOptions="FillAndExpand" />

                <VerticalStackLayout
                    x:Name="ChatLayout"
                    Padding="30,0"
                    Spacing="25"
                    VerticalOptions="FillAndExpand">
                </VerticalStackLayout>

                <!--
                <skia:SKLottieView 
                        Source="https://lottie.host/440bfe79-8145-4324-9976-29d4d0830194/p57JQzlc3e.json"
                        HeightRequest="150"
                        WidthRequest="150"
                        RepeatCount="-1">
                    
                </skia:SKLottieView>
                -->

                <!--

 
                <StackLayout>
                    <Button Text="Start Recording" Clicked="OnStartRecordingClicked" />
                    <Button Text="Stop Recording" Clicked="OnStopRecordingClicked" />
                </StackLayout>
                -->
            </VerticalStackLayout>
        </ScrollView>

        <!-- Entry and Button at the bottom -->
<Grid
    Grid.Row="1"
    Padding="15"
    BackgroundColor="Transparent">
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="*" />
    </Grid.ColumnDefinitions>

    <Frame
        Grid.Column="1"
        BackgroundColor="Transparent"
        Margin="20,0,20,20"
        Padding="0"
        BorderColor="#F2CFE2"
        CornerRadius="30">
        <Grid>
            <Entry
                x:Name="InputBox"
                BackgroundColor="Transparent"
                Completed="InputBox_Completed"
                Placeholder="¿Que quieres que haga?"
                PlaceholderColor="#68667D"
                FontFamily="Montserrat-Light"
                TextColor="#121B3F"
                HorizontalOptions="FillAndExpand">
                <Entry.Shadow>
                    <Shadow
                        Brush="#121B3F"
                        Opacity="0.4"
                        Radius="30"
                        Offset="0,20" />
                </Entry.Shadow>
            </Entry>
                <ImageButton
                    Source="avioncito.png"
                    HeightRequest="30"
                    BackgroundColor="Transparent"
                    HorizontalOptions="End"
                    VerticalOptions="Center"
                    Margin="10,10"
                    Padding="9"
                    Clicked="InputBox_Completed"/>
        </Grid>
    </Frame>
</Grid>


    </Grid>
</ContentPage>
